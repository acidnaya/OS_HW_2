# Рубцова М.Е., БПИ-218, ИДЗ 2, Вариант 14.

## Задание

В гостинице 10 номеров рассчитаны на одного человека и 15 номеров рассчитаны на двух человек. В гостиницу случайно приходят клиенты–дамы и клиенты–джентльмены, и конечно они могут провести ночь в номере только с представителем своего пола. Если для клиента не находится подходящего номера, он уходит искать ночлег в другое место. Клиенты порождаются динамически и уничтожаются при освобождении номера или уходе из гостиницы при невозможности поселиться. Создать приложение, моделирующее работу гостиницы. Каждого клиента реализовать в виде отдельного процесса.
 
## Решение

Исходные файлы каждого решения расположены в папке с номером этого решения.\
Все решения соответствуют описанным в задании требованиям. Сценарий решений приведен ниже.\

### Компиляция
```sh
gcc program_4.c -o program
```

### Запуск
```sh
./program
```

### Сценарий решения

Есть разделяемая память, доступная для всех процессов. Доступ к ней блокируется с помощью семафора clients. В этой памяти - массиве чаров, хранится информация о занятости номеров отеля. Соответствие статуса номеров и числовых значений в массиве:\
а) свободен – 0,\
б) занят женщиной – 2,\
в) занят мужчиной – 3\
г) занят двумя женщинами – 4,\
д) занят двумя мужчинами – 6.\
Первые 15 номеров двуместные, оставшиеся 10 - одноместные.\
В цикле создаются процессы-посетители, которые ждут случайное количество времени, а затем по одному получают доступ к номерам и заселяются, если это возможно. Главный процесс родитель после создания всех дочерних процессов 5 секунд ожидает ввод (можно просто Enter) в стандартный поток. Если пользователем что-то вводится, то все дочерние процессы убиваются (реализовано с помощью kill и игнорирования родительского потока). Если ввода нет, то родительский процесс дожидается завершения всех дочерних и работа программы завершается.

### Решение (4 балла)
Именованные POSIX семафоры.

### Решение (5 балла)
Неименованные POSIX семафоры.
